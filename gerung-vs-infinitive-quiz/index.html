<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>

    <script src="jquery-2.1.4.min.js"></script>
    <script type="text/javascript">


        var data = [
            {text: "$1 languages is hard work", options:[{text:"Learning", right:true}, {text:"Learn", right:false}]},
            {text: "It's important $1 team meetings", options:[{text:"attending", right:false}, {text:"to attend", right:true}]},
            {text: "He went to work despite $1 unwell", options:[{text:"feeling", right:true}, {text:"fill", right:false}]},
            {text: "$1 makes you fit", options:[{text:"Swimming", right:true}, {text:"Swimm", right:false}]},
            {text: "They left without $1 “good-bye”", options:[{text:"saying", right:true}, {text:"say", right:false}]},
            {text: "You shouldn't $1 so much coffee", options:[{text:"drinking", right:false}, {text:"drink", right:true}]},
            {text: "Can you $1 me a bit later", options:[{text:"call", right:true}, {text:"calling", right:false}]}
        ];



        $(function(){

            function makeRandomIterator(arr) {
                var last = 0;
                return {
                    next: function(){
                        if(arr.length==0) throw Error("empty array");
                        if(arr.length==1) return arr[0];
                        var i = last;
                        while(i == last) {
                            i = parseInt(Math.random() * arr.length);
                        }
                        last = i;
                        return arr[i];
                    }
                }
            }

            function nextQuestion(it){

                var question = it.next();

                $("#sentence").text(question.text.replace("$1", "..."));
                
                var $buttons = $("#buttons");
                $buttons.empty();

                question.options.forEach(function(option){
                    var $button = $("<button/>").text(option.text);
                    $buttons.append($button);
                    $button.click(function(){
                        if(option.right) {
                            nextQuestion(it);
                        }
                        else {
                            alert('Wrong!')
                        }
                    });

                });
            }

            nextQuestion(makeRandomIterator(data));




        })

    </script>

</head>
<body>
    <h1 id="sentence"></h1>
    <div id="buttons"></div>
    <h1 id="error"></h1>
</body>
</html>